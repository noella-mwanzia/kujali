<div [formGroup]="pTNameFormGroup" class="form-section" fxLayout="column">
  <div formGroupName="pTNameFormGroup">
    <h4 class="mat-title type-title">{{ viewType }} Category</h4>

    <div class="form-section-body" fxLayout="column">
      <mat-form-field>
        <mat-select formControlName="category" name="selectedCat" placeholder="Category of {{ viewType }}" 
        (selectionChange)="categoryChanged($event)" [compareWith]="compareCateFn" required>
          <mat-option *ngFor="let gCategory of categories | async" [value]="gCategory">
            {{ gCategory.name | transloco}}
          </mat-option>
        </mat-select>
      </mat-form-field>
  
      <mat-form-field *ngIf="hasCategory">
        <mat-select formControlName="type" name="type" [placeholder]="viewType + ' Type'"
        [compareWith]="compareTypesFn">
          <mat-option *ngFor="let gType of selectedCategory.types" [value]="gType">
            {{ gType.name | transloco}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  
    <div class="form-section" fxLayout="column">
      <h4 class="mat-title type-title">{{ viewType }} Name</h4>
    
      <div class="form-section-body" fxLayout="column">
        <mat-form-field fxFlex="100">
          <mat-label>Name</mat-label>
          <input matInput type="text" formControlName="lineName" name="lineName"/>
    
          <mat-hint>Transaction name is a description. Do not use people names, specific service providers, ...</mat-hint>
        </mat-form-field>
      </div>
    </div>
  </div>
</div>
