<div *ngIf="user$ | async as user">
  <button class="user-btn" mat-button [matMenuTriggerFor]="userMenu" fxLayout="row" fxLayoutALign="start center"
    fxLayoutGap="10px">
    <span *ngIf="user.photoUrl; else avatar">
      <img class="user-image" [src]="user.photoUrl">
    </span>
    <ng-template #avatar>
      <i class="far fa-user-circle user-image"></i>
    </ng-template>
    <span>
      {{ user.displayName }}
    </span>
    <i class="fas fa-caret-down"></i>
  </button>

  <mat-menu #userMenu="matMenu" xPosition="before">
    <button mat-menu-item>My profile</button>
    <button mat-menu-item (click)="logout()">Log out</button>
  </mat-menu>

</div>